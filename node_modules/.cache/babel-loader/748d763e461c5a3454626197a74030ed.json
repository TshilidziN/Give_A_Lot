{"ast":null,"code":"import _defineProperty from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"../../styles/Organisations.css\";import TextField from\"@material-ui/core/TextField\";import Grid from\"@material-ui/core/Grid\";import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Button from'@material-ui/core/Button';import Select from'@material-ui/core/Select';import axios from\"axios\";import DialogTitle from\"@material-ui/core/DialogTitle\";import DialogContent from\"@material-ui/core/DialogContent\";import Dialog from\"@material-ui/core/Dialog\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={orgName:\"\",orgNameError:'',slogan:\"\",sloganError:'',orgDescription:\"\",orgDescriptionError:\"\",orgSector:\"\",orgSectorError:'',orgEmail:\"\",orgEmailError:\"\",contactPerson:\"\",contactPersonError:\"\",contactNumber:\"\",contactNumberError:'',password:\"\",passwordError:'',image:'',imageError:'',sectorS:[],openAdd:false,serverDomain:\"https://givealotcharities.herokuapp.com\"};export var AddOrg=/*#__PURE__*/function(_Component){_inherits(AddOrg,_Component);var _super=_createSuper(AddOrg);function AddOrg(){var _this;_classCallCheck(this,AddOrg);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=initialState;_this.validated=function(){var isErrors=false;var orgNameError='';var orgEmailError=\"\";var passwordError='';var sloganError='';var orgSectorError='';var orgDescriptionError='';var contactPersonError=\"\";var contactNumberError='';var imageError='';if(_this.state.orgEmail.indexOf('@')===-1){orgEmailError='Please enter a valid email address';}if(_this.state.password.length<4){passwordError='Password must be at least 4 characters long';}if(_this.state.orgName.length<1){orgNameError='orgName cannot be blank';}if(_this.state.slogan.length<1){sloganError='slogan cannot be blank';}if(_this.state.orgSector.length<1){orgSectorError='Sector cannot be blank';}if(_this.state.orgDescription.length<1){orgDescriptionError='Description cannot be blank';}if(!_this.state.contactNumber.match(/^[0-9]{10}$/)){contactNumberError=\"Please enter valid mobile number\";}if(_this.state.contactPerson.length<1){contactPersonError='Contact person cannot be blank';}if(!_this.state.orgEmail.match(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/)){orgEmailError=\"Please enter email address\";}if(orgEmailError||contactPersonError||contactNumberError||orgDescriptionError||orgSectorError||sloganError||orgNameError||passwordError){_this.setState({orgEmailError:orgEmailError,contactPersonError:contactPersonError,contactNumberError:contactNumberError,orgDescriptionError:orgDescriptionError,orgSectorError:orgSectorError,sloganError:sloganError,orgNameError:orgNameError,passwordError:passwordError});return false;}return true;};_this.changeHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleCloseAdd=function(){_this.setState({openAdd:false});};_this.submitHandler=function(e){e.preventDefault();var isValid=_this.validated();if(isValid){var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};console.log(_this.state);axios.post(_this.state.serverDomain+'/v1/organisation/add/org',_this.state,config).then(function(response){console.log(response);_this.setState({openAdd:true});}).catch(function(error){console.log(error);});_this.setState(initialState);}};return _this;}_createClass(AddOrg,[{key:\"componentDidMount\",value:function componentDidMount(){this.getSectorS();}},{key:\"getSectorS\",value:function getSectorS(){var _this2=this;var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};axios.get(this.state.serverDomain+'/v1/organisation/get/sectors',config).then(function(response){_this2.setState({sectorS:response.data.sectors});}).catch(function(error){_this2.setState({error:'Error Retrieving data'});});}},{key:\"render\",value:function render(){var _this$state=this.state,orgName=_this$state.orgName,slogan=_this$state.slogan,orgEmail=_this$state.orgEmail,password=_this$state.password,orgSector=_this$state.orgSector,contactPerson=_this$state.contactPerson,contactNumber=_this$state.contactNumber,orgDescription=_this$state.orgDescription,sectorS=_this$state.sectorS;return/*#__PURE__*/_jsx(\"div\",{className:\"add\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginTop:\"1em\",flexGrow:2,width:\"50%\"},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Organisation Name\",style:{margin:8},placeholder:\"Organisation Name\",fullWidth:true,margin:\"normal\",minLength:\"8\",maxLength:\"20\",variant:\"outlined\",name:\"orgName\",onChange:this.changeHandler,value:orgName})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.orgNameError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Slogan\",style:{margin:8},placeholder:\"Slogan\",fullWidth:true,margin:\"normal\",minLength:\"15\",maxLength:\"50\",variant:\"outlined\",name:\"slogan\",onChange:this.changeHandler,value:slogan})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.sloganError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Email\",type:\"email\",style:{margin:8},placeholder:\"Email\",fullWidth:true,margin:\"normal\",variant:\"outlined\",name:\"orgEmail\",onChange:this.changeHandler,value:orgEmail})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.orgEmailError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Password\",type:\"password\",style:{margin:8},placeholder:\"Password\",fullWidth:true,margin:\"normal\",minLength:\"8\",maxLength:\"15\",variant:\"outlined\",name:\"password\",onChange:this.changeHandler,value:password})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.passwordError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsxs(Select,{variant:\"outlined\",native:true,style:{margin:8},label:\"Sector\",fullWidth:true,placeholder:\"Placeholder\",name:\"orgSector\",onChange:this.changeHandler,value:orgSector,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Enter Sector\"},\"kidsNextDoors\"),sectorS.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item},item);})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.orgSectorError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Contact Person\",type:\"text\",style:{margin:8},placeholder:\"Contact Person\",fullWidth:true,margin:\"normal\",variant:\"outlined\",name:\"contactPerson\",onChange:this.changeHandler,value:contactPerson})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.contactPersonError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-full-width\",label:\"Contact Number\",type:\"text\",style:{margin:8},placeholder:\"Contact Number\",fullWidth:true,margin:\"normal\",variant:\"outlined\",name:\"contactNumber\"// minLength=\"8\"\n,maxLength:\"10\",onChange:this.changeHandler,value:contactNumber})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.contactNumberError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(TextField,{style:{margin:8},placeholder:\"Description\",fullWidth:true,multiline:true,maxRows:4,margin:\"normal\",minLength:\"50\",maxLength:\"100\",variant:\"outlined\",id:\"outlined-textarea\",label:\"Description\",name:\"orgDescription\",onChange:this.changeHandler,value:orgDescription})}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.orgDescriptionError})]}),/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",className:\"addBtn\",onClick:this.submitHandler.bind(this),children:\"Submit\"}),/*#__PURE__*/_jsxs(Dialog,{onClose:this.handleCloseAdd.bind(this),open:this.state.openAdd,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"NGO Number Accepted\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:this.handleCloseAdd.bind(this),style:{paddingTop:\"0.5em\",paddingBottom:\"0.5em\"},children:\"Close\"})})]})]})]})})})})});}}]);return AddOrg;}(Component);export default AddOrg;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/dashboard/sidebar/Components/OrganisationsDash/AddOrg.js"],"names":["React","Component","TextField","Grid","Card","CardContent","Button","Select","axios","DialogTitle","DialogContent","Dialog","initialState","orgName","orgNameError","slogan","sloganError","orgDescription","orgDescriptionError","orgSector","orgSectorError","orgEmail","orgEmailError","contactPerson","contactPersonError","contactNumber","contactNumberError","password","passwordError","image","imageError","sectorS","openAdd","serverDomain","AddOrg","state","validated","isErrors","indexOf","length","match","setState","changeHandler","e","target","name","value","handleCloseAdd","submitHandler","preventDefault","isValid","config","headers","console","log","post","then","response","catch","error","getSectorS","get","data","sectors","display","alignItems","justifyContent","marginTop","flexGrow","width","margin","map","item","bind","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport \"../../styles/Organisations.css\"\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport axios from \"axios\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\nconst initialState = {\r\n    orgName : \"\",\r\n    orgNameError: '',\r\n    slogan : \"\",\r\n    sloganError: '',\r\n    orgDescription : \"\",\r\n    orgDescriptionError: \"\",\r\n    orgSector : \"\",\r\n    orgSectorError: '',\r\n    orgEmail : \"\",\r\n    orgEmailError : \"\",\r\n    contactPerson : \"\",\r\n    contactPersonError : \"\",\r\n    contactNumber : \"\",\r\n    contactNumberError: '',\r\n    password : \"\",\r\n    passwordError: '',\r\n    image: '',\r\n    imageError: '',\r\n    sectorS: [],\r\n    openAdd: false,\r\n    serverDomain: \"https://givealotcharities.herokuapp.com\"\r\n};\r\n\r\nexport class AddOrg extends Component {\r\n    state = initialState;\r\n\r\n    validated = () => {\r\n        let isErrors = false;\r\n\r\n            let orgNameError = '';\r\n            let orgEmailError = \"\";\r\n            let passwordError = '';\r\n            let sloganError = '';\r\n            let orgSectorError = '';\r\n            let orgDescriptionError = '';\r\n            let contactPersonError = \"\";\r\n            let contactNumberError = '';\r\n            let imageError = '';\r\n\r\n        if(this.state.orgEmail.indexOf('@') === -1){\r\n            orgEmailError = 'Please enter a valid email address';\r\n        }\r\n        if(this.state.password.length < 4){\r\n            passwordError = 'Password must be at least 4 characters long';\r\n        }\r\n        if(this.state.orgName.length < 1){\r\n            orgNameError = 'orgName cannot be blank';\r\n        }\r\n        if(this.state.slogan.length < 1){\r\n            sloganError = 'slogan cannot be blank';\r\n        }\r\n\r\n        if(this.state.orgSector.length < 1){\r\n            orgSectorError = 'Sector cannot be blank';\r\n        }\r\n\r\n        if(this.state.orgDescription.length < 1){\r\n            orgDescriptionError = 'Description cannot be blank';\r\n        }\r\n        if (!this.state.contactNumber.match(/^[0-9]{10}$/)) {\r\n            contactNumberError = \"Please enter valid mobile number\";\r\n        }\r\n        if(this.state.contactPerson.length < 1){\r\n            contactPersonError = 'Contact person cannot be blank';\r\n        }\r\n        if (!this.state.orgEmail.match(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/)) {\r\n            orgEmailError = \"Please enter email address\";\r\n        }\r\n\r\n        if (orgEmailError || contactPersonError || contactNumberError || orgDescriptionError || orgSectorError || sloganError || orgNameError || passwordError) {\r\n            this.setState({ orgEmailError, contactPersonError,contactNumberError, orgDescriptionError, orgSectorError, sloganError, orgNameError, passwordError});\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    changeHandler = (e) =>{\r\n        this.setState({[e.target.name] : e.target.value})\r\n    }\r\n    handleCloseAdd = () => {\r\n        this.setState({ openAdd: false });\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getSectorS();\r\n    }\r\n\r\n    getSectorS(){\r\n        let config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        }\r\n        axios.get(this.state.serverDomain + '/v1/organisation/get/sectors',  config)\r\n            .then(response =>{\r\n                this.setState({sectorS: response.data.sectors})\r\n            })\r\n            .catch(error =>{\r\n                this.setState({error : 'Error Retrieving data'})\r\n            })\r\n    }\r\n\r\n    submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        const isValid = this.validated();\r\n        if (isValid) {\r\n            let config = {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    'Access-Control-Allow-Origin': '*',\r\n                }\r\n            }\r\n            console.log(this.state)\r\n            axios.post(this.state.serverDomain + '/v1/organisation/add/org', this.state, config)\r\n                .then(response =>{\r\n                    console.log(response)\r\n                    this.setState({ openAdd: true });\r\n                })\r\n                .catch(error =>{\r\n                    console.log(error)\r\n                })\r\n            this.setState(initialState);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {orgName, slogan, orgEmail, password, orgSector, contactPerson, contactNumber, orgDescription, sectorS} = this.state\r\n\r\n        return (\r\n            <div className=\"add\">\r\n                <div  style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\", marginTop: \"1em\", flexGrow: 2, width: \"50%\"}}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <form onSubmit={this.submitHandler}>\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Organisation Name\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Organisation Name\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            minLength=\"8\"\r\n                                            maxLength=\"20\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"orgName\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={orgName}\r\n                                        />\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.orgNameError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Slogan\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Slogan\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            minLength=\"15\"\r\n                                            maxLength=\"50\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"slogan\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={slogan}\r\n                                        />\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.sloganError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Email\"\r\n                                            type=\"email\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Email\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"orgEmail\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={orgEmail}\r\n                                        />\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.orgEmailError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Password\"\r\n                                            type=\"password\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Password\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            minLength=\"8\"\r\n                                            maxLength=\"15\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"password\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={password}\r\n\r\n                                        />\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.passwordError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <Select\r\n                                            variant=\"outlined\"\r\n                                            native\r\n                                            style={{ margin: 8 }}\r\n                                            label=\"Sector\"\r\n                                            fullWidth\r\n                                            placeholder=\"Placeholder\"\r\n                                            name=\"orgSector\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={orgSector}\r\n                                        >\r\n                                            <option key=\"kidsNextDoors\">Enter Sector</option>\r\n                                            {sectorS.map((item) =>\r\n                                                <option key={item} value={item}>{item}</option>\r\n                                            )}\r\n                                        </Select>\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.orgSectorError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Contact Person\"\r\n                                            type=\"text\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Contact Person\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"contactPerson\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={contactPerson}\r\n                                        />\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.contactPersonError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            id=\"outlined-full-width\"\r\n                                            label=\"Contact Number\"\r\n                                            type=\"text\"\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Contact Number\"\r\n                                            fullWidth\r\n                                            margin=\"normal\"\r\n                                            variant=\"outlined\"\r\n                                            name=\"contactNumber\"\r\n                                            // minLength=\"8\"\r\n                                            maxLength=\"10\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={contactNumber}\r\n                                        />\r\n\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.contactNumberError}</span>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <Grid>\r\n                                        <TextField\r\n                                            style={{ margin: 8 }}\r\n                                            placeholder=\"Description\"\r\n                                            fullWidth\r\n                                            multiline\r\n                                            maxRows={4}\r\n                                            margin=\"normal\"\r\n                                            minLength=\"50\"\r\n                                            maxLength=\"100\"\r\n                                            variant=\"outlined\"\r\n                                            id=\"outlined-textarea\"\r\n                                            label=\"Description\"\r\n                                            name=\"orgDescription\"\r\n                                            onChange={this.changeHandler}\r\n                                            value={orgDescription}\r\n                                        />\r\n                                    </Grid>\r\n                                    <span className=\"error\">{this.state.orgDescriptionError}</span>\r\n                                </div>\r\n\r\n                                <Grid>\r\n                                    <Button variant=\"contained\" type=\"submit\" className=\"addBtn\"\r\n                                            onClick={this.submitHandler.bind(this)}\r\n                                    >\r\n                                        Submit\r\n                                    </Button>\r\n                                    <Dialog onClose={this.handleCloseAdd.bind(this)} open={this.state.openAdd}>\r\n                                        <DialogTitle>NGO Number Accepted</DialogTitle>\r\n                                        <DialogContent>\r\n                                            <Button variant=\"contained\" color=\"primary\"\r\n                                                    onClick={this.handleCloseAdd.bind(this)}\r\n                                                    style={{paddingTop: \"0.5em\", paddingBottom: \"0.5em\"}}\r\n                                            >\r\n                                                Close\r\n                                            </Button>\r\n                                        </DialogContent>\r\n                                    </Dialog>\r\n                                </Grid>\r\n                            </form>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddOrg\r\n"]},"metadata":{},"sourceType":"module"}