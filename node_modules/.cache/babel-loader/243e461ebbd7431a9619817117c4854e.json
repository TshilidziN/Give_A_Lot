{"ast":null,"code":"import _slicedToArray from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import\"./Blur.css\";import{Box,TextField}from\"@material-ui/core\";import blurredFallback from'../../../../../assets/blurredFallback.jpeg';import{Alert}from\"@material-ui/lab\";import{ApiContext}from\"../../../../../apiContext/ApiContext\";import OrgSidebar from\"../DemoSidebar/OrgSidebar\";import{FrontEndContext}from\"../../../../../apiContext/FrontEndContext\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BlurImages(){var _useState=useState(blurredFallback),_useState2=_slicedToArray(_useState,2),current_image=_useState2[0],set_current_image=_useState2[1];var _useState3=useState(\"https://446b-105-208-196-200.ngrok.io\"),_useState4=_slicedToArray(_useState3,2),serverDomain=_useState4[0],setServerDomain=_useState4[1];var _useState5=useState(useContext(FrontEndContext)),_useState6=_slicedToArray(_useState5,2),frontEndDomain=_useState6[0],setFrontEndDomain=_useState6[1];if(localStorage.getItem(\"id\")===null||localStorage.getItem(\"id\")===undefined||localStorage.getItem(\"id\")==='default'){window.location.href=frontEndDomain+\"/login\";}var uploadImage=function uploadImage(event){var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};var form_data=new FormData();form_data.append('orgId',localStorage.getItem('id'));form_data.append('image',event.target.files[0]);form_data.append('type',1);set_current_image(\"\");document.getElementById(\"processing_photo_info\").style.display=\"flex\";axios.post(serverDomain+'/v1/frecognition/blur',form_data,config).then(function(response){return response.json();}).then(function(result){set_current_image(serverDomain+\"/v1/frecognition/blur/get/\"+localStorage.getItem('id'));document.getElementById(\"processing_photo_info\").style.display=\"none\";}).catch(function(error){console.error('Error:',error.response);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"trythis\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OrgSidebar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"blur\",children:/*#__PURE__*/_jsxs(Box,{id:\"blur-image-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Upload an image to blur faces\"}),/*#__PURE__*/_jsx(TextField,{className:\"blur-image-input\",id:\"blur-image-input\",variant:\"outlined\",type:\"file\",onChange:uploadImage,accept:\"image/*\"}),/*#__PURE__*/_jsx(Alert,{severity:'info',id:\"processing_photo_info\",children:\"please wait while we process the photo\"}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(\"img\",{id:\"blurred_image_here\",src:current_image,width:400})})]})})]});}export default BlurImages;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/dashboard/sidebar/Components/BlurImages/BlurImages.js"],"names":["React","useContext","useEffect","useState","Box","TextField","blurredFallback","Alert","ApiContext","OrgSidebar","FrontEndContext","axios","BlurImages","current_image","set_current_image","serverDomain","setServerDomain","frontEndDomain","setFrontEndDomain","localStorage","getItem","undefined","window","location","href","uploadImage","event","config","headers","form_data","FormData","append","target","files","document","getElementById","style","display","post","then","response","json","result","catch","error","console"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\r\nimport \"./Blur.css\"\r\nimport {Box, TextField} from \"@material-ui/core\";\r\nimport blurredFallback from '../../../../../assets/blurredFallback.jpeg';\r\nimport {Alert} from \"@material-ui/lab\";\r\nimport {ApiContext} from \"../../../../../apiContext/ApiContext\";\r\nimport OrgSidebar from \"../DemoSidebar/OrgSidebar\";\r\nimport {FrontEndContext} from \"../../../../../apiContext/FrontEndContext\";\r\nimport axios from \"axios\";\r\nfunction BlurImages()\r\n{\r\n    let [current_image, set_current_image] = useState(blurredFallback);\r\n    const [serverDomain, setServerDomain] = useState(\"https://446b-105-208-196-200.ngrok.io\");\r\n    const [frontEndDomain, setFrontEndDomain] = useState(useContext(FrontEndContext));\r\n\r\n    if(localStorage.getItem(\"id\") === null ||\r\n        localStorage.getItem(\"id\") === undefined ||\r\n        localStorage.getItem(\"id\") === 'default')\r\n    {\r\n\r\n        window.location.href = frontEndDomain + \"/login\";\r\n    }\r\n\r\n    const uploadImage = event =>\r\n    {\r\n\r\n        let config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        }\r\n        const form_data = new FormData();\r\n        form_data.append('orgId', localStorage.getItem('id'));\r\n        form_data.append('image', event.target.files[0]);\r\n        form_data.append('type',1);\r\n\r\n        set_current_image(\"\")\r\n        document.getElementById(\"processing_photo_info\").style.display = \"flex\";\r\n\r\n        axios.post(serverDomain + '/v1/frecognition/blur', form_data ,config)\r\n\r\n            .then((response) => response.json())\r\n            .then((result) =>\r\n            {\r\n                set_current_image(serverDomain + \"/v1/frecognition/blur/get/\" + localStorage.getItem('id'))\r\n                document.getElementById(\"processing_photo_info\").style.display = \"none\";\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error.response);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"trythis\">\r\n            <div>\r\n                <OrgSidebar />\r\n            </div>\r\n            <div className=\"blur\">\r\n                <Box id={\"blur-image-container\"}>\r\n                    <p>\r\n                        Upload an image to blur faces\r\n                    </p>\r\n                    <TextField\r\n                        className={\"blur-image-input\"}\r\n                        id={\"blur-image-input\"}\r\n                        variant={\"outlined\"}\r\n                        type=\"file\"\r\n                        onChange={uploadImage}\r\n                        accept=\"image/*\"\r\n                    />\r\n\r\n                    <Alert\r\n                        severity={'info'}\r\n                        id={\"processing_photo_info\"}\r\n                    >\r\n                        please wait while we process the photo\r\n                    </Alert>\r\n                    <Box>\r\n                        <img id={\"blurred_image_here\"} src={current_image} width={400}/>\r\n                    </Box>\r\n\r\n                </Box>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BlurImages;\r\n"]},"metadata":{},"sourceType":"module"}