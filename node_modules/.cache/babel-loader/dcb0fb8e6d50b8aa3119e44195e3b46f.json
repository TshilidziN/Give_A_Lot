{"ast":null,"code":"import _defineProperty from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useState}from'react';import backgroundImg from\"../../assets/homeBackground.jpg\";import Logo from\"../login/Components/Logo\";import{Link}from\"react-router-dom\";import ArrowBackIcon from\"@material-ui/icons/ArrowBack\";import\"./styles/VerifyCert.css\";import{Alert}from\"@material-ui/lab\";import Button from\"@material-ui/core/Button\";import{ApiContext}from\"../../apiContext/ApiContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={main:{backgroundImage:\"url(\".concat(backgroundImg,\")\")}};export var VerifyCertificate=/*#__PURE__*/function(_Component){_inherits(VerifyCertificate,_Component);var _super=_createSuper(VerifyCertificate);function VerifyCertificate(){var _this;_classCallCheck(this,VerifyCertificate);_this=_super.call(this);_this.onChange=function(e){switch(e.target.name){case'selectedFile':_this.setState({selectedFile:e.target.files[0]});break;default:_this.setState(_defineProperty({},e.target.name,e.target.value));}};_this.onSubmit=function(e){e.preventDefault();var selectedFile=_this.state.selectedFile;var formData=new FormData();formData.append('selectedFile',selectedFile);var AlertPrompt=document.getElementById(\"AlertPrompt\");var AlertPromptWait=document.getElementById(\"AlertPromptWait\");var AlertServerError=document.getElementById(\"AlertServerError\");var AlertBadCertificate=document.getElementById(\"AlertBadCertificate\");var AlertGoodCertificate=document.getElementById(\"AlertGoodCertificate\");AlertPrompt.style.display=\"none\";AlertBadCertificate.style.display=\"none\";AlertServerError.style.display=\"none\";AlertGoodCertificate.style.display=\"none\";AlertPromptWait.style.display=\"flex\";fetch(\"https://givealotcharities.herokuapp.com\"+'/certificate/compare',{method:'POST',body:formData}).then(function(response){return response.json();}).then(function(result){console.log('Success:',result);if(parseInt(result)===-1){AlertBadCertificate.style.display=\"flex\";AlertPromptWait.style.display=\"none\";}else if(parseInt(result)>-1){_this.setState({certificateOrganisationId:result});AlertGoodCertificate.style.display=\"flex\";AlertBadCertificate.style.display=\"none\";AlertPromptWait.style.display=\"none\";}else{AlertBadCertificate.style.display=\"none\";AlertPromptWait.style.display=\"none\";AlertGoodCertificate.style.display=\"none\";AlertServerError.style.display=\"flex\";}}).catch(function(error){console.error('Error:',error);});};_this.state={selectedFile:'',certificateOrganisationId:'',serverDomain:_this.context};return _this;}_createClass(VerifyCertificate,[{key:\"render\",value:function render(){var selectedFile=this.state.selectedFile;return/*#__PURE__*/_jsx(\"div\",{className:\"verifyCert\",style:styles.main,children:/*#__PURE__*/_jsxs(\"div\",{id:\"banner_filter\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(ArrowBackIcon,{style:{color:\"white\",marginLeft:\"30px\",fontSize:\"xx-large\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fileUpload\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"verify\",children:\"Verify Certificate\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"upload\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Upload\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Title\",children:\"Upload Certificate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Content\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"selectedFile\",onChange:this.onChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})})})]})}),/*#__PURE__*/_jsx(Alert,{severity:\"error\",id:\"AlertBadCertificate\",children:\"this certificate is invalid...\"}),/*#__PURE__*/_jsx(Alert,{severity:\"error\",id:\"AlertServerError\",children:\"Internal server error\"}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",id:\"AlertPrompt\",children:\"Please upload a Give a lot certificate (.PDF)\"}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",id:\"AlertPromptWait\",children:\"Please wait...\"}),/*#__PURE__*/_jsxs(Alert,{severity:\"success\",id:\"AlertGoodCertificate\",children:[\"Organisation verified\",/*#__PURE__*/_jsx(Link,{to:\"/organisation/\"+this.state.certificateOrganisationId,children:/*#__PURE__*/_jsx(Button,{id:\"goodAlertBtn\",variant:\"contained\",children:\"visit\"})})]})]})]})});}}]);return VerifyCertificate;}(Component);VerifyCertificate.contextType=ApiContext;export default VerifyCertificate;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/verifyCertificate/VerifyCertificate.js"],"names":["React","Component","useState","backgroundImg","Logo","Link","ArrowBackIcon","Alert","Button","ApiContext","styles","main","backgroundImage","VerifyCertificate","onChange","e","target","name","setState","selectedFile","files","value","onSubmit","preventDefault","state","formData","FormData","append","AlertPrompt","document","getElementById","AlertPromptWait","AlertServerError","AlertBadCertificate","AlertGoodCertificate","style","display","fetch","method","body","then","response","json","result","console","log","parseInt","certificateOrganisationId","catch","error","serverDomain","context","color","marginLeft","fontSize","contextType"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react'\r\nimport backgroundImg from \"../../assets/homeBackground.jpg\";\r\nimport Logo from \"../login/Components/Logo\";\r\nimport {Link} from \"react-router-dom\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport \"./styles/VerifyCert.css\"\r\nimport {Alert} from \"@material-ui/lab\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {ApiContext} from \"../../apiContext/ApiContext\";\r\n\r\nconst styles = {\r\n    main: {\r\n        backgroundImage: `url(${backgroundImg})`\r\n    }\r\n}\r\n\r\nexport class VerifyCertificate extends Component {\r\n    static contextType = ApiContext;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.state = {\r\n            selectedFile: '',\r\n            certificateOrganisationId : '',\r\n            serverDomain : this.context,\r\n        };\r\n    }\r\n\r\n    onChange = (e) =>\r\n    {\r\n        switch (e.target.name)\r\n        {\r\n            case 'selectedFile':\r\n                this.setState({ selectedFile: e.target.files[0] });\r\n                break;\r\n            default:\r\n                this.setState({ [e.target.name]: e.target.value });\r\n        }\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { selectedFile } = this.state;\r\n        let formData = new FormData();\r\n        formData.append('selectedFile', selectedFile);\r\n\r\n        let AlertPrompt = document.getElementById(\"AlertPrompt\");\r\n        let AlertPromptWait = document.getElementById(\"AlertPromptWait\");\r\n        let AlertServerError = document.getElementById(\"AlertServerError\");\r\n\r\n        let AlertBadCertificate = document.getElementById(\"AlertBadCertificate\");\r\n        let AlertGoodCertificate = document.getElementById(\"AlertGoodCertificate\");\r\n\r\n        AlertPrompt.style.display = \"none\";\r\n        AlertBadCertificate.style.display = \"none\";\r\n        AlertServerError.style.display = \"none\";\r\n        AlertGoodCertificate.style.display = \"none\";\r\n        AlertPromptWait.style.display = \"flex\";\r\n\r\n        fetch(\r\n            \"https://givealotcharities.herokuapp.com\"+ '/certificate/compare',\r\n            {\r\n                method: 'POST',\r\n                body: formData,\r\n            }\r\n        )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n            console.log('Success:', result);\r\n                if(parseInt(result) === -1)\r\n                {\r\n                    AlertBadCertificate.style.display = \"flex\";\r\n                    AlertPromptWait.style.display = \"none\";\r\n                }\r\n                else if (parseInt(result) > -1)\r\n                {\r\n                    this.setState(\r\n                        {\r\n                            certificateOrganisationId : result\r\n                        }\r\n                    )\r\n                    AlertGoodCertificate.style.display = \"flex\";\r\n                    AlertBadCertificate.style.display = \"none\";\r\n                    AlertPromptWait.style.display = \"none\";\r\n                }\r\n                else\r\n                {\r\n                    AlertBadCertificate.style.display = \"none\";\r\n                    AlertPromptWait.style.display = \"none\";\r\n                    AlertGoodCertificate.style.display = \"none\";\r\n                    AlertServerError.style.display = \"flex\";\r\n                }\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { selectedFile } = this.state;\r\n        return (\r\n            <div className=\"verifyCert\" style={styles.main}>\r\n                <div  id={\"banner_filter\"}>\r\n                    <Logo/>\r\n                    <Link to={\"/\"}>\r\n                        <ArrowBackIcon style={{color: \"white\", marginLeft: \"30px\", fontSize: \"xx-large\"}}/>\r\n                    </Link>\r\n                    <div className=\"fileUpload\" >\r\n                        <div>\r\n                            <h3 className=\"verify\">Verify Certificate</h3>\r\n                        </div>\r\n                        <div className=\"upload\">\r\n                            <div className=\"Upload\">\r\n                                <span className=\"Title\">Upload Certificate</span>\r\n                                <div className=\"Content\">\r\n                                    <div>\r\n                                        <form onSubmit={this.onSubmit}>\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                name=\"selectedFile\"\r\n                                                onChange={this.onChange}\r\n                                            />\r\n                                            <button type=\"submit\">Submit</button>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <Alert severity=\"error\" id={\"AlertBadCertificate\"}>this certificate is invalid...</Alert>\r\n                        <Alert severity=\"error\" id={\"AlertServerError\"}>Internal server error</Alert>\r\n                        <Alert severity=\"info\" id={\"AlertPrompt\"}>Please upload a Give a lot certificate (.PDF)</Alert>\r\n                        <Alert severity=\"info\" id={\"AlertPromptWait\"}>Please wait...</Alert>\r\n                        <Alert severity=\"success\"  id={\"AlertGoodCertificate\"}>Organisation verified\r\n\r\n                            <Link to={\"/organisation/\" + this.state.certificateOrganisationId}>\r\n                                <Button\r\n                                    id={\"goodAlertBtn\"}\r\n                                    variant={\"contained\"}\r\n                                >\r\n                                    visit\r\n                                </Button>\r\n                            </Link>\r\n                        </Alert>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VerifyCertificate\r\n"]},"metadata":{},"sourceType":"module"}