{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from\"react-router-dom\";import logo from\"../../../../assets/logo/logo3_1.png\";import React,{useContext,useEffect,useState}from\"react\";import SearchIcon from\"@material-ui/icons/Search\";import SearchResults from\"../SearchResults/SearchResults\";import{ApiContext}from\"../../../../apiContext/ApiContext\";import{Box,LinearProgress}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Navbar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchResultsOrganisations=_useState2[0],setSearchResultsOrganisations=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSearchResults=_useState4[0],SetShowSearchResults=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResultsOrganisationsRelated=_useState6[0],setSearchResultsOrganisationsRelated=_useState6[1];var _useState7=useState(useContext(ApiContext)),_useState8=_slicedToArray(_useState7,2),serverDomain=_useState8[0],setServerDomain=_useState8[1];function searchOrganisation(e){e.preventDefault();document.getElementById(\"searchResultsProgressLoader\").style.display=\"block\";fetch(serverDomain+\"/search/organisation/browse/\"+document.getElementById(\"browse_search_input2\").value).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return response.json();case 2:data=_context.sent;document.getElementById(\"searchResultsProgressLoader\").style.display=\"none\";if(!response.ok)/* error handling here */{if(response.status===500){}if(typeof data!=='undefined'){}}if(data.message===\"success\"){setSearchResultsOrganisations(data.results);setSearchResultsOrganisationsRelated(data.suggestions);SetShowSearchResults(true);document.getElementById(\"searchResults\").hidden=false;}else{}case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){alert(\"failed search \"+error);});}var onKeyUp=function onKeyUp(event){/*\r\n            code 13 represents the ENTER button\r\n        */if(event.charCode===13){searchOrganisation(event);}};useEffect(function(){},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"browseNavSection\",children:[showSearchResults&&/*#__PURE__*/_jsx(SearchResults,{org_list:searchResultsOrganisations,org_suggestions:searchResultsOrganisationsRelated}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{id:\"browseLogo\",src:logo,alt:\"logo\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"browse organisations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"browse_search_input2_container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"browse_search_input2\",placeholder:\"Search organisation\",type:\"text\",onKeyPress:onKeyUp}),/*#__PURE__*/_jsx(SearchIcon,{id:\"search_icon_nav\",onClick:searchOrganisation})]})]}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%'},id:\"searchResultsProgressLoader\",children:/*#__PURE__*/_jsx(LinearProgress,{color:\"secondary\"})})]});}export default Navbar;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/browse/Components/Navbar/Navbar.js"],"names":["Link","logo","React","useContext","useEffect","useState","SearchIcon","SearchResults","ApiContext","Box","LinearProgress","Navbar","searchResultsOrganisations","setSearchResultsOrganisations","showSearchResults","SetShowSearchResults","searchResultsOrganisationsRelated","setSearchResultsOrganisationsRelated","serverDomain","setServerDomain","searchOrganisation","e","preventDefault","document","getElementById","style","display","fetch","value","then","response","json","data","ok","status","message","results","suggestions","hidden","catch","error","alert","onKeyUp","event","charCode","width"],"mappings":"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","sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport logo from \"../../../../assets/logo/logo3_1.png\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport SearchResults from \"../SearchResults/SearchResults\";\r\nimport {ApiContext} from \"../../../../apiContext/ApiContext\";\r\nimport {Box, LinearProgress} from \"@material-ui/core\";\r\n\r\nfunction Navbar()\r\n{\r\n    const [searchResultsOrganisations, setSearchResultsOrganisations] = useState([]);\r\n    const [showSearchResults, SetShowSearchResults] = useState(false);\r\n    const [searchResultsOrganisationsRelated, setSearchResultsOrganisationsRelated] = useState([]);\r\n    const [serverDomain, setServerDomain] = useState(useContext(ApiContext))\r\n\r\n\r\n    function searchOrganisation(e)\r\n    {\r\n        e.preventDefault();\r\n        document.getElementById(\"searchResultsProgressLoader\").style.display = \"block\";\r\n        fetch(serverDomain + \"/search/organisation/browse/\"+document.getElementById(\"browse_search_input2\").value)\r\n        .then(async response =>{\r\n            const data = await response.json();\r\n            document.getElementById(\"searchResultsProgressLoader\").style.display = \"none\";\r\n            if(!response.ok) /* error handling here */\r\n            {\r\n                if(response.status === 500)\r\n                {}\r\n                if(typeof data !== 'undefined')\r\n                {\r\n                }\r\n            }\r\n\r\n            if(data.message === \"success\")\r\n            {\r\n                setSearchResultsOrganisations(data.results);\r\n                setSearchResultsOrganisationsRelated(data.suggestions);\r\n\r\n                SetShowSearchResults(true);\r\n                document.getElementById(\"searchResults\").hidden = false;\r\n            }\r\n            else\r\n            {\r\n\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(\"failed search \" + error)\r\n        });\r\n    }\r\n\r\n    const onKeyUp = event =>\r\n    {\r\n        /*\r\n            code 13 represents the ENTER button\r\n        */\r\n        if (event.charCode === 13) {\r\n            searchOrganisation(event);\r\n        }\r\n    }\r\n\r\n   useEffect(() =>{\r\n\r\n    },[]);\r\n    return (\r\n\r\n        <>\r\n            <div id=\"browseNavSection\">\r\n                {showSearchResults && <SearchResults org_list={searchResultsOrganisations}\r\n                                org_suggestions={searchResultsOrganisationsRelated}/>}\r\n\r\n                <Link to={\"/\"}><img id=\"browseLogo\" src={logo} alt={\"logo\"} /></Link>\r\n                <p>browse organisations</p>\r\n                <div className=\"browse_search_input2_container\">\r\n                    <input\r\n                        id={\"browse_search_input2\"}\r\n                        placeholder=\"Search organisation\"\r\n                        type=\"text\"\r\n\r\n                        onKeyPress={onKeyUp}\r\n                    />\r\n                    <SearchIcon\r\n                        id={\"search_icon_nav\"}\r\n                        onClick={searchOrganisation}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Box sx={{ width: '100%' }} id={\"searchResultsProgressLoader\"}>\r\n                <LinearProgress color={\"secondary\"} />\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}