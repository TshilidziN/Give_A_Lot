{"ast":null,"code":"import _defineProperty from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import ArrowBackIcon from'@material-ui/icons/ArrowBack';import backgroundImg from\"../../../assets/homeBackground.jpg\";import Logo from\"./Logo\";import axios from\"axios\";import\"../Styles/Login.css\";import{Alert}from\"@material-ui/lab\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={main:{backgroundImage:\"url(\".concat(backgroundImg,\")\")}};var initialState={email:\"\",emailError:\"\"};var Password=/*#__PURE__*/function(_Component){_inherits(Password,_Component);var _super=_createSuper(Password);function Password(){var _this;_classCallCheck(this,Password);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=initialState;_this.handleChange=function(event){var isCheckbox=event.target.type===\"checkbox\";_this.setState(_defineProperty({},event.target.name,isCheckbox?event.target.checked:event.target.value));};_this.validate=function(){var emailError=\"\";if(!_this.state.email.includes(\"@\")){emailError=\"invalid email\";}if(emailError){_this.setState({emailError:emailError});return false;}return true;};_this.handleSubmit=function(event){event.preventDefault();var isValid=_this.validate();if(isValid){console.log(_this.state);var data={email:_this.state.email};localStorage.clear();document.getElementById(\"waitInfo\").style.display=\"flex\";document.getElementById(\"badLogin\").style.display=\"none\";axios.post(\"http://localhost:8080/v1/login/user/forgot_password\",data).then(function(res){console.log(res);if(res.data.success===true){document.getElementById(\"waitInfo\").style.display=\"none\";_this.props.history.push(\"/EmailSent\");}else{document.getElementById(\"badLogin\").style.display=\"flex\";document.getElementById(\"waitInfo\").style.display=\"none\";}}).catch(function(err){console.log(err);document.getElementById(\"badLogin\").style.display=\"flex\";document.getElementById(\"waitInfo\").style.display=\"none\";});}};return _this;}_createClass(Password,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"Login\",style:styles.main,children:/*#__PURE__*/_jsxs(\"div\",{id:\"banner_filter\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:/*#__PURE__*/_jsx(ArrowBackIcon,{style:{color:\"white\",marginLeft:\"30px\",fontSize:\"xx-large\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginCard\",children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",id:\"badLogin\",children:\"incorrect username or password!\"}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",id:\"waitInfo\",children:\"Sending email...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"LoginForm\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"span\",{className:\"LoginHeader\",children:\"Reset your password\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Instruction\",children:\"We'll email you instructions to reset the password.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginInput\",\"data-validate\":\"Username is required\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"LoginInputLabel\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"innerInput validate\",type:\"email\",name:\"email\",placeholder:\"Enter your email\",onChange:this.handleChange})}),/*#__PURE__*/_jsx(\"span\",{className:\"loginError\",children:this.state.emailError})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"Login-btn\",id:\"loginBTN_less_rounded\",type:\"submit\",children:\"Reset password\"})})]})})]})]})})});}}]);return Password;}(Component);export default Password;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/login/Components/Password.js"],"names":["React","Component","Link","ArrowBackIcon","backgroundImg","Logo","axios","Alert","styles","main","backgroundImage","initialState","email","emailError","Password","state","handleChange","event","isCheckbox","target","type","setState","name","checked","value","validate","includes","handleSubmit","preventDefault","isValid","console","log","data","localStorage","clear","document","getElementById","style","display","post","then","res","success","props","history","push","catch","err","color","marginLeft","fontSize"],"mappings":"k7BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,oCAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,qBAAP,CACA,OAAQC,KAAR,KAAoB,kBAApB,C,wFAGA,GAAMC,CAAAA,MAAM,CAAG,CACXC,IAAI,CAAE,CACFC,eAAe,eAASN,aAAT,KADb,CADK,CAAf,CAMA,GAAMO,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,UAAU,CAAE,EAFK,CAArB,C,GAKMC,CAAAA,Q,mUAEFC,K,CAAQJ,Y,OAERK,Y,CAAe,SAAAC,KAAK,CAAI,CACpB,GAAMC,CAAAA,UAAU,CAAGD,KAAK,CAACE,MAAN,CAAaC,IAAb,GAAsB,UAAzC,CACA,MAAKC,QAAL,oBACKJ,KAAK,CAACE,MAAN,CAAaG,IADlB,CACyBJ,UAAU,CACzBD,KAAK,CAACE,MAAN,CAAaI,OADY,CAEzBN,KAAK,CAACE,MAAN,CAAaK,KAHvB,GAKH,C,OAEDC,Q,CAAW,UAAM,CACb,GAAIZ,CAAAA,UAAU,CAAG,EAAjB,CAEA,GAAI,CAAC,MAAKE,KAAL,CAAWH,KAAX,CAAiBc,QAAjB,CAA0B,GAA1B,CAAL,CAAqC,CACjCb,UAAU,CAAG,eAAb,CACH,CAGD,GAAKA,UAAL,CAAkB,CACd,MAAKQ,QAAL,CAAc,CAAER,UAAU,CAAVA,UAAF,CAAd,EACA,MAAO,MAAP,CACH,CAED,MAAO,KAAP,CACH,C,OAGDc,Y,CAAe,SAAAV,KAAK,CAAI,CACpBA,KAAK,CAACW,cAAN,GACA,GAAMC,CAAAA,OAAO,CAAG,MAAKJ,QAAL,EAAhB,CACA,GAAII,OAAJ,CAAa,CACTC,OAAO,CAACC,GAAR,CAAY,MAAKhB,KAAjB,EAEA,GAAMiB,CAAAA,IAAI,CAAG,CACTpB,KAAK,CAAE,MAAKG,KAAL,CAAWH,KADT,CAAb,CAIAqB,YAAY,CAACC,KAAb,GACAC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAhC,KAAK,CAACiC,IAAN,CAAW,qDAAX,CAAkEP,IAAlE,EACKQ,IADL,CACU,SAAAC,GAAG,CAAI,CACTX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACA,GAAIA,GAAG,CAACT,IAAJ,CAASU,OAAT,GAAqB,IAAzB,CACA,CACIP,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACA,MAAKK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EAEH,CALD,IAKM,CACFV,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACH,CAGJ,CAdL,EAeKQ,KAfL,CAeW,SAAAC,GAAG,CAAG,CACTjB,OAAO,CAACC,GAAR,CAAYgB,GAAZ,EACAZ,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACAH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACH,CAnBL,EAoBH,CACJ,C,0DAED,iBACA,CACI,mBACI,kCACI,YAAK,SAAS,CAAC,OAAf,CAAuB,KAAK,CAAE9B,MAAM,CAACC,IAArC,uBACI,aAAM,EAAE,CAAE,eAAV,wBACI,KAAC,IAAD,IADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAE,QAAV,uBACI,KAAC,aAAD,EAAe,KAAK,CAAE,CAACuC,KAAK,CAAE,OAAR,CAAiBC,UAAU,CAAE,MAA7B,CAAqCC,QAAQ,CAAE,UAA/C,CAAtB,EADJ,EAFJ,cAKI,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,KAAD,EAAO,QAAQ,CAAC,OAAhB,CAAwB,EAAE,CAAE,UAA5B,6CADJ,cAEI,KAAC,KAAD,EAAO,QAAQ,CAAC,MAAhB,CAAuB,EAAE,CAAE,UAA3B,8BAFJ,cAGI,YAAK,SAAS,CAAC,SAAf,uBACI,cAAM,SAAS,CAAC,WAAhB,CAA4B,QAAQ,CAAE,KAAKvB,YAA3C,wBACT,aAAM,SAAS,CAAC,aAAhB,iCADS,cAIR,aAAM,SAAS,CAAC,aAAhB,iEAJQ,cAOI,aAAK,SAAS,CAAC,YAAf,CAA4B,gBAAc,sBAA1C,wBACJ,aAAM,SAAS,CAAC,iBAAhB,mBADI,cAII,kCACI,cACI,SAAS,CAAC,qBADd,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,OAHT,CAII,WAAW,CAAC,kBAJhB,CAKI,QAAQ,CAAE,KAAKX,YALnB,EADJ,EAJJ,cAcI,aAAM,SAAS,CAAC,YAAhB,UAA8B,KAAKD,KAAL,CAAWF,UAAzC,EAdJ,GAPJ,cAwBI,YAAK,SAAS,CAAC,aAAf,uBAEI,eAAQ,SAAS,CAAC,WAAlB,CAA8B,EAAE,CAAE,uBAAlC,CAA2D,IAAI,CAAC,QAAhE,4BAFJ,EAxBJ,GADJ,EAHJ,GALJ,GADJ,EADJ,EADJ,CAiDH,C,sBArHkBZ,S,EAwHvB,cAAea,CAAAA,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport backgroundImg from \"../../../assets/homeBackground.jpg\";\r\nimport Logo from \"./Logo\"\r\nimport axios from \"axios\"\r\nimport \"../Styles/Login.css\"\r\nimport {Alert} from \"@material-ui/lab\";\r\n\r\n\r\nconst styles = {\r\n    main: {\r\n        backgroundImage: `url(${backgroundImg})`\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    email: \"\",\r\n    emailError: \"\",\r\n};\r\n\r\nclass Password extends Component {\r\n\r\n    state = initialState;\r\n\r\n    handleChange = event => {\r\n        const isCheckbox = event.target.type === \"checkbox\";\r\n        this.setState({\r\n            [event.target.name]: isCheckbox\r\n                ? event.target.checked\r\n                : event.target.value\r\n        });\r\n    };\r\n\r\n    validate = () => {\r\n        let emailError = \"\";\r\n\r\n        if (!this.state.email.includes(\"@\")) {\r\n            emailError = \"invalid email\";\r\n        }\r\n\r\n\r\n        if ( emailError ) {\r\n            this.setState({ emailError });\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        const isValid = this.validate();\r\n        if (isValid) {\r\n            console.log(this.state);\r\n\r\n            const data = {\r\n                email: this.state.email,\r\n\r\n            };\r\n            localStorage.clear();\r\n            document.getElementById(\"waitInfo\").style.display = \"flex\";\r\n            document.getElementById(\"badLogin\").style.display = \"none\";\r\n            axios.post(\"http://localhost:8080/v1/login/user/forgot_password\", data)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    if (res.data.success === true)\r\n                    {\r\n                        document.getElementById(\"waitInfo\").style.display = \"none\";\r\n                        this.props.history.push(\"/EmailSent\");\r\n\r\n                    }else {\r\n                        document.getElementById(\"badLogin\").style.display = \"flex\";\r\n                        document.getElementById(\"waitInfo\").style.display = \"none\";\r\n                    }\r\n\r\n\r\n                })\r\n                .catch(err =>{\r\n                    console.log(err)\r\n                    document.getElementById(\"badLogin\").style.display = \"flex\";\r\n                    document.getElementById(\"waitInfo\").style.display = \"none\";\r\n                });\r\n        }\r\n    };\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div>\r\n                <div className=\"Login\" style={styles.main}>\r\n                    <div  id={\"banner_filter\"}>\r\n                        <Logo/>\r\n                        <Link to={\"/Login\"}>\r\n                            <ArrowBackIcon style={{color: \"white\", marginLeft: \"30px\", fontSize: \"xx-large\"}}/>\r\n                        </Link>\r\n                        <div className=\"LoginCard\">\r\n                            <Alert severity=\"error\" id={\"badLogin\"}>incorrect username or password!</Alert>\r\n                            <Alert severity=\"info\" id={\"waitInfo\"}>Sending email...</Alert>\r\n                            <div className=\"wrapper\">\r\n                                <form className=\"LoginForm\" onSubmit={this.handleSubmit}>\r\n                       <span className=\"LoginHeader\">\r\n                           Reset your password\r\n                       </span>\r\n                        <span className=\"Instruction\">\r\n                           We'll email you instructions to reset the password.\r\n                       </span>\r\n                                    <div className=\"LoginInput\" data-validate=\"Username is required\">\r\n                                <span className=\"LoginInputLabel\">\r\n                                    Email\r\n                                </span>\r\n                                        <div>\r\n                                            <input\r\n                                                className=\"innerInput validate\"\r\n                                                type=\"email\"\r\n                                                name=\"email\"\r\n                                                placeholder=\"Enter your email\"\r\n                                                onChange={this.handleChange}\r\n                                            />\r\n\r\n                                        </div>\r\n                                        <span className=\"loginError\">{this.state.emailError}</span>\r\n                                    </div>\r\n\r\n                                    <div className=\"wrapper-btn\">\r\n\r\n                                        <button className=\"Login-btn\" id={\"loginBTN_less_rounded\"} type=\"submit\" >\r\n                                            Reset password\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Password;\r\n"]},"metadata":{},"sourceType":"module"}