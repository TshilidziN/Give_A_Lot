{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tshilidzi-PC\\\\Documents\\\\GitHub\\\\Givee\\\\Give-a-Lot\\\\frontend\\\\givealot\\\\src\\\\views\\\\browse\\\\Components\\\\Navbar\\\\Navbar.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../../../assets/logo/logo3_1.png\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport { ApiContext } from \"../../../../apiContext/ApiContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Navbar() {\n  _s();\n\n  const [searchResultsOrganisations, setSearchResultsOrganisations] = useState([]);\n  const [showSearchResults, SetShowSearchResults] = useState(false);\n  const [searchResultsOrganisationsRelated, setSearchResultsOrganisationsRelated] = useState([]);\n  const [serverDomain, setServerDomain] = useState(useContext(ApiContext));\n\n  function searchOrganisation(e) {\n    e.preventDefault();\n    fetch(serverDomain + \"/search/organisation/browse/\" + document.getElementById(\"browse_search_input\").value).then(async response => {\n      const data = await response.json();\n\n      if (!response.ok)\n        /* error handling here */\n        {\n          if (response.status === 500) {}\n\n          if (typeof data !== 'undefined') {\n            alert(data.message);\n          }\n        }\n\n      if (data.message === \"success\")\n        /*successfully fetched*/\n        {\n          setSearchResultsOrganisations(data.results);\n          setSearchResultsOrganisationsRelated(data.suggestions);\n          SetShowSearchResults(true);\n          document.getElementById(\"searchResults\").hidden = false;\n        } else {\n        alert(\"error occured: \" + data.code);\n      }\n    }).catch(error => {\n      alert(\"failed search \" + error);\n    });\n  }\n\n  const onKeyUp = event => {\n    /*\r\n        code 13 represents the ENTER button\r\n    */\n    if (event.charCode === 13) {\n      searchOrganisation(event);\n    }\n  };\n\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"browseNavSection\",\n    children: [showSearchResults && /*#__PURE__*/_jsxDEV(SearchResults, {\n      org_list: searchResultsOrganisations,\n      org_suggestions: searchResultsOrganisationsRelated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"browseLogo\",\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"browse organisations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__input browseNavSection_searchContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"browse_search_input\",\n        placeholder: \"search organisation\",\n        type: \"text\",\n        onKeyPress: onKeyUp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SearchIcon, {\n        onClick: searchOrganisation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Navbar, \"udbbLkdILb3N043xmmUcsrGhrgk=\");\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/browse/Components/Navbar/Navbar.js"],"names":["Link","logo","React","useContext","useEffect","useState","TextField","SearchIcon","SearchResults","ApiContext","Navbar","searchResultsOrganisations","setSearchResultsOrganisations","showSearchResults","SetShowSearchResults","searchResultsOrganisationsRelated","setSearchResultsOrganisationsRelated","serverDomain","setServerDomain","searchOrganisation","e","preventDefault","fetch","document","getElementById","value","then","response","data","json","ok","status","alert","message","results","suggestions","hidden","code","catch","error","onKeyUp","event","charCode"],"mappings":"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","sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport logo from \"../../../../assets/logo/logo3_1.png\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport {TextField} from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport SearchResults from \"../SearchResults/SearchResults\";\r\nimport {ApiContext} from \"../../../../apiContext/ApiContext\";\r\n\r\n\r\n\r\n\r\n\r\nfunction Navbar()\r\n{\r\n    const [searchResultsOrganisations, setSearchResultsOrganisations] = useState([]);\r\n    const [showSearchResults, SetShowSearchResults] = useState(false);\r\n    const [searchResultsOrganisationsRelated, setSearchResultsOrganisationsRelated] = useState([]);\r\n    const [serverDomain, setServerDomain] = useState(useContext(ApiContext))\r\n\r\n\r\n    function searchOrganisation(e)\r\n    {\r\n        e.preventDefault();\r\n        fetch(serverDomain + \"/search/organisation/browse/\"+document.getElementById(\"browse_search_input\").value)\r\n        .then(async response =>{\r\n            const data = await response.json();\r\n\r\n            if(!response.ok) /* error handling here */\r\n            {\r\n                if(response.status === 500)\r\n                {}\r\n\r\n                if(typeof data !== 'undefined')\r\n                {\r\n                    alert(data.message);\r\n                }\r\n            }\r\n\r\n            if(data.message === \"success\") /*successfully fetched*/\r\n            {\r\n                setSearchResultsOrganisations(data.results);\r\n                setSearchResultsOrganisationsRelated(data.suggestions);\r\n\r\n                SetShowSearchResults(true);\r\n                document.getElementById(\"searchResults\").hidden = false;\r\n            }\r\n            else\r\n            {\r\n                alert(\"error occured: \" + data.code);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(\"failed search \" + error)\r\n        });\r\n    }\r\n\r\n    const onKeyUp = event =>\r\n    {\r\n        /*\r\n            code 13 represents the ENTER button\r\n        */\r\n        if (event.charCode === 13) {\r\n            searchOrganisation(event);\r\n        }\r\n    }\r\n\r\n   useEffect(() =>{\r\n\r\n    },[]);\r\n    return (\r\n        <div id=\"browseNavSection\">\r\n\r\n            {showSearchResults && <SearchResults org_list={searchResultsOrganisations}\r\n                            org_suggestions={searchResultsOrganisationsRelated}/>}\r\n\r\n            <Link to={\"/\"}><img id=\"browseLogo\" src={logo} alt={\"logo\"} /></Link>\r\n            <p>browse organisations</p>\r\n            <div className=\"header__input browseNavSection_searchContainer\">\r\n                <input\r\n                    id={\"browse_search_input\"}\r\n                    placeholder=\"search organisation\"\r\n                    type=\"text\"\r\n                    onKeyPress={onKeyUp}\r\n                />\r\n                <SearchIcon\r\n                    onClick={searchOrganisation}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}