{"ast":null,"code":"import _classCallCheck from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"./Style/Reports.css\";import Accordions from\"./Accordions\";import axios from\"axios\";import{ApiContext}from\"../../../../../apiContext/ApiContext\";import CardContent from\"@material-ui/core/CardContent\";import Typography from\"@material-ui/core/Typography\";import Card from\"@material-ui/core/Card\";import OrgSidebar from\"../DemoSidebar/OrgSidebar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Reports=/*#__PURE__*/function(_Component){_inherits(Reports,_Component);var _super=_createSuper(Reports);function Reports(props){var _this;_classCallCheck(this,Reports);_this=_super.call(this,props);_this.state={count:\"\",reports:[],orgId:localStorage.getItem(\"id\"),error:\"\",serverDomain:'https://givealotcharities.herokuapp.com',frontEndDomain:'https://givealot.netlify.app'};return _this;}_createClass(Reports,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};var dataa={\"orgId\":this.state.orgId};axios.post(this.state.serverDomain+'/report/get/all',dataa,config).then(function(response){_this2.setState({reports:response.data.object});console.log(response);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){if(localStorage.getItem(\"id\")===null||localStorage.getItem(\"id\")===undefined||localStorage.getItem(\"id\")==='default'){window.location.href=this.state.frontEndDomain+\"/login\";}var reports=this.state.reports;if(reports.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"trythis\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OrgSidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"report\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reportHeader\",children:\"Reports list\"}),/*#__PURE__*/_jsx(Card,{style:{margin:\"1em\",width:\"100%\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{className:\"valid\",children:/*#__PURE__*/_jsx(Typography,{children:\"No Reports\"})})})})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"trythis\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OrgSidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"report\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reportHeader\",children:\"Reports list\"}),/*#__PURE__*/_jsx(\"div\",{className:\"accordion\",children:reports.map(function(item){return/*#__PURE__*/_jsx(Accordions,{org:item.orgId,id:item.reportId,title:item.reportType,description:item.description,appeal:item.appealed});})})]})]});}}}]);return Reports;}(Component);Reports.contextType=ApiContext;export default Reports;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/dashboard/sidebar/Components/Report/Reports.js"],"names":["React","Component","Accordions","axios","ApiContext","CardContent","Typography","Card","OrgSidebar","Reports","props","state","count","reports","orgId","localStorage","getItem","error","serverDomain","frontEndDomain","config","headers","dataa","post","then","response","setState","data","object","console","log","catch","undefined","window","location","href","length","margin","width","map","item","reportId","reportType","description","appealed","contextType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport \"./Style/Reports.css\"\r\nimport Accordions from \"./Accordions\"\r\nimport axios from \"axios\";\r\nimport {ApiContext} from \"../../../../../apiContext/ApiContext\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport OrgSidebar from \"../DemoSidebar/OrgSidebar\";\r\n\r\nexport class Reports extends Component {\r\n\r\n    static contextType = ApiContext;\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            count: \"\",\r\n            reports: [],\r\n            orgId:localStorage.getItem(\"id\"),\r\n            error: \"\",\r\n            serverDomain: 'https://givealotcharities.herokuapp.com',\r\n            frontEndDomain: 'https://givealot.netlify.app'\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        }\r\n        const dataa = {\r\n            \"orgId\" : this.state.orgId\r\n        }\r\n\r\n        axios.post(this.state.serverDomain + '/report/get/all', dataa  ,config)\r\n            .then(response =>{\r\n                this.setState({reports: response.data.object})\r\n                console.log(response)\r\n            })\r\n            .catch(error =>{\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n        if(localStorage.getItem(\"id\") === null ||\r\n            localStorage.getItem(\"id\") === undefined ||\r\n            localStorage.getItem(\"id\") === 'default')\r\n        {\r\n\r\n            window.location.href = this.state.frontEndDomain + \"/login\";\r\n        }\r\n        const { reports } = this.state\r\n     if(reports.length === 0){\r\n            return(\r\n                <div className=\"trythis\">\r\n                    <div>\r\n                        <OrgSidebar />\r\n                    </div>\r\n                <div className=\"report\">\r\n                    <div className=\"reportHeader\">\r\n                        Reports list\r\n                    </div>\r\n                    <Card style={{margin: \"1em\", width: \"100%\"}}>\r\n                        <CardContent>\r\n                            <Typography className=\"valid\">\r\n                                <Typography>\r\n                                    No Reports\r\n                                </Typography>\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        else{\r\n            return (\r\n                <div className=\"trythis\">\r\n                    <div>\r\n                        <OrgSidebar />\r\n                    </div>\r\n                <div className=\"report\">\r\n                    <div className=\"reportHeader\">\r\n                        Reports list\r\n                    </div>\r\n                    <div className=\"accordion\">\r\n\r\n                        {reports.map((item) =>{\r\n                            return(\r\n                                <Accordions\r\n                                    org={item.orgId}\r\n                                    id={item.reportId}\r\n                                    title={item.reportType}\r\n                                    description={item.description}\r\n                                    appeal={item.appealed}\r\n                                />\r\n                                )\r\n                        })}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                </div>\r\n\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Reports\r\n"]},"metadata":{},"sourceType":"module"}