{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _redux = require(\"redux\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _Container = _interopRequireDefault(require(\"../dnd/Container\"));\n\nvar _Draggable = _interopRequireDefault(require(\"../dnd/Draggable\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pick = _interopRequireDefault(require(\"lodash/pick\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _Lane = _interopRequireDefault(require(\"./Lane\"));\n\nvar _reactPopopo = require(\"react-popopo\");\n\nvar boardActions = _interopRequireWildcard(require(\"../actions/BoardActions\"));\n\nvar laneActions = _interopRequireWildcard(require(\"../actions/LaneActions\"));\n\nclass BoardContainer extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    (0, _defineProperty2.default)(this, \"state\", {\n      addLaneMode: false\n    });\n    (0, _defineProperty2.default)(this, \"onDragStart\", ({\n      payload\n    }) => {\n      const handleLaneDragStart = this.props.handleLaneDragStart;\n      handleLaneDragStart(payload.id);\n    });\n    (0, _defineProperty2.default)(this, \"onLaneDrop\", ({\n      removedIndex,\n      addedIndex,\n      payload\n    }) => {\n      const _this$props = this.props,\n            actions = _this$props.actions,\n            handleLaneDragEnd = _this$props.handleLaneDragEnd;\n\n      if (removedIndex !== addedIndex) {\n        actions.moveLane({\n          oldIndex: removedIndex,\n          newIndex: addedIndex\n        });\n        handleLaneDragEnd(removedIndex, addedIndex, payload);\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getCardDetails\", (laneId, cardIndex) => {\n      return this.props.reducerData.lanes.find(lane => lane.id === laneId).cards[cardIndex];\n    });\n    (0, _defineProperty2.default)(this, \"getLaneDetails\", index => {\n      return this.props.reducerData.lanes[index];\n    });\n    (0, _defineProperty2.default)(this, \"wireEventBus\", () => {\n      const _this$props2 = this.props,\n            actions = _this$props2.actions,\n            eventBusHandle = _this$props2.eventBusHandle;\n      let eventBus = {\n        publish: event => {\n          switch (event.type) {\n            case 'ADD_CARD':\n              return actions.addCard({\n                laneId: event.laneId,\n                card: event.card\n              });\n\n            case 'UPDATE_CARD':\n              return actions.updateCard({\n                laneId: event.laneId,\n                card: event.card\n              });\n\n            case 'REMOVE_CARD':\n              return actions.removeCard({\n                laneId: event.laneId,\n                cardId: event.cardId\n              });\n\n            case 'REFRESH_BOARD':\n              return actions.loadBoard(event.data);\n\n            case 'MOVE_CARD':\n              return actions.moveCardAcrossLanes({\n                fromLaneId: event.fromLaneId,\n                toLaneId: event.toLaneId,\n                cardId: event.cardId,\n                index: event.index\n              });\n\n            case 'UPDATE_CARDS':\n              return actions.updateCards({\n                laneId: event.laneId,\n                cards: event.cards\n              });\n\n            case 'UPDATE_CARD':\n              return actions.updateCard({\n                laneId: event.laneId,\n                updatedCard: event.card\n              });\n\n            case 'UPDATE_LANES':\n              return actions.updateLanes(event.lanes);\n\n            case 'UPDATE_LANE':\n              return actions.updateLane(event.lane);\n          }\n        }\n      };\n      eventBusHandle(eventBus);\n    });\n    (0, _defineProperty2.default)(this, \"hideEditableLane\", () => {\n      this.setState({\n        addLaneMode: false\n      });\n    });\n    (0, _defineProperty2.default)(this, \"showEditableLane\", () => {\n      this.setState({\n        addLaneMode: true\n      });\n    });\n    (0, _defineProperty2.default)(this, \"addNewLane\", params => {\n      this.hideEditableLane();\n      this.props.actions.addLane(params);\n      this.props.onLaneAdd(params);\n    });\n  }\n\n  componentDidMount() {\n    const _this$props3 = this.props,\n          actions = _this$props3.actions,\n          eventBusHandle = _this$props3.eventBusHandle;\n    actions.loadBoard(this.props.data);\n\n    if (eventBusHandle) {\n      this.wireEventBus();\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    // nextProps.data changes when external Board input props change and nextProps.reducerData changes due to event bus or UI changes\n    const _this$props4 = this.props,\n          data = _this$props4.data,\n          reducerData = _this$props4.reducerData,\n          onDataChange = _this$props4.onDataChange;\n\n    if (nextProps.reducerData && !(0, _isEqual.default)(reducerData, nextProps.reducerData)) {\n      onDataChange(nextProps.reducerData);\n    }\n\n    if (nextProps.data && !(0, _isEqual.default)(nextProps.data, data)) {\n      this.props.actions.loadBoard(nextProps.data);\n      onDataChange(nextProps.data);\n    }\n  }\n\n  get groupName() {\n    const id = this.props.id;\n    return \"TrelloBoard\".concat(id);\n  }\n\n  render() {\n    const _this$props5 = this.props,\n          id = _this$props5.id,\n          components = _this$props5.components,\n          reducerData = _this$props5.reducerData,\n          draggable = _this$props5.draggable,\n          laneDraggable = _this$props5.laneDraggable,\n          laneDragClass = _this$props5.laneDragClass,\n          laneDropClass = _this$props5.laneDropClass,\n          style = _this$props5.style,\n          onDataChange = _this$props5.onDataChange,\n          onCardAdd = _this$props5.onCardAdd,\n          onCardUpdate = _this$props5.onCardUpdate,\n          onCardClick = _this$props5.onCardClick,\n          onBeforeCardDelete = _this$props5.onBeforeCardDelete,\n          onCardDelete = _this$props5.onCardDelete,\n          onLaneScroll = _this$props5.onLaneScroll,\n          onLaneClick = _this$props5.onLaneClick,\n          onLaneAdd = _this$props5.onLaneAdd,\n          onLaneDelete = _this$props5.onLaneDelete,\n          onLaneUpdate = _this$props5.onLaneUpdate,\n          editable = _this$props5.editable,\n          canAddLanes = _this$props5.canAddLanes,\n          laneStyle = _this$props5.laneStyle,\n          onCardMoveAcrossLanes = _this$props5.onCardMoveAcrossLanes,\n          t = _this$props5.t,\n          otherProps = (0, _objectWithoutProperties2.default)(_this$props5, [\"id\", \"components\", \"reducerData\", \"draggable\", \"laneDraggable\", \"laneDragClass\", \"laneDropClass\", \"style\", \"onDataChange\", \"onCardAdd\", \"onCardUpdate\", \"onCardClick\", \"onBeforeCardDelete\", \"onCardDelete\", \"onLaneScroll\", \"onLaneClick\", \"onLaneAdd\", \"onLaneDelete\", \"onLaneUpdate\", \"editable\", \"canAddLanes\", \"laneStyle\", \"onCardMoveAcrossLanes\", \"t\"]);\n    const addLaneMode = this.state.addLaneMode; // Stick to whitelisting attributes to segregate board and lane props\n\n    const passthroughProps = (0, _pick.default)(this.props, ['onCardMoveAcrossLanes', 'onLaneScroll', 'onLaneDelete', 'onLaneUpdate', 'onCardClick', 'onBeforeCardDelete', 'onCardDelete', 'onCardAdd', 'onCardUpdate', 'onLaneClick', 'laneSortFunction', 'draggable', 'laneDraggable', 'cardDraggable', 'collapsibleLanes', 'canAddLanes', 'hideCardDeleteIcon', 'tagStyle', 'handleDragStart', 'handleDragEnd', 'cardDragClass', 'editLaneTitle', 't']);\n    return _react.default.createElement(components.BoardWrapper, (0, _extends2.default)({\n      style: style\n    }, otherProps, {\n      draggable: false\n    }), _react.default.createElement(_reactPopopo.PopoverWrapper, null, _react.default.createElement(_Container.default, {\n      orientation: \"horizontal\",\n      onDragStart: this.onDragStart,\n      dragClass: laneDragClass,\n      dropClass: laneDropClass,\n      onDrop: this.onLaneDrop,\n      lockAxis: \"x\",\n      getChildPayload: index => this.getLaneDetails(index),\n      groupName: this.groupName\n    }, reducerData.lanes.map((lane, index) => {\n      const id = lane.id,\n            droppable = lane.droppable,\n            otherProps = (0, _objectWithoutProperties2.default)(lane, [\"id\", \"droppable\"]);\n\n      const laneToRender = _react.default.createElement(_Lane.default, (0, _extends2.default)({\n        key: id,\n        boardId: this.groupName,\n        components: components,\n        id: id,\n        getCardDetails: this.getCardDetails,\n        index: index,\n        droppable: droppable === undefined ? true : droppable,\n        style: laneStyle || lane.style || {},\n        labelStyle: lane.labelStyle || {},\n        cardStyle: this.props.cardStyle || lane.cardStyle,\n        editable: editable && !lane.disallowAddingCard\n      }, otherProps, passthroughProps));\n\n      return draggable && laneDraggable ? _react.default.createElement(_Draggable.default, {\n        key: lane.id\n      }, laneToRender) : laneToRender;\n    }))), canAddLanes && _react.default.createElement(_Container.default, {\n      orientation: \"horizontal\"\n    }, editable && !addLaneMode ? _react.default.createElement(components.NewLaneSection, {\n      t: t,\n      onClick: this.showEditableLane\n    }) : addLaneMode && _react.default.createElement(components.NewLaneForm, {\n      onCancel: this.hideEditableLane,\n      onAdd: this.addNewLane,\n      t: t\n    })));\n  }\n\n}\n\nBoardContainer.propTypes = {\n  id: _propTypes.default.string,\n  components: _propTypes.default.object,\n  actions: _propTypes.default.object,\n  data: _propTypes.default.object.isRequired,\n  reducerData: _propTypes.default.object,\n  onDataChange: _propTypes.default.func,\n  eventBusHandle: _propTypes.default.func,\n  onLaneScroll: _propTypes.default.func,\n  onCardClick: _propTypes.default.func,\n  onBeforeCardDelete: _propTypes.default.func,\n  onCardDelete: _propTypes.default.func,\n  onCardAdd: _propTypes.default.func,\n  onCardUpdate: _propTypes.default.func,\n  onLaneAdd: _propTypes.default.func,\n  onLaneDelete: _propTypes.default.func,\n  onLaneClick: _propTypes.default.func,\n  onLaneUpdate: _propTypes.default.func,\n  laneSortFunction: _propTypes.default.func,\n  draggable: _propTypes.default.bool,\n  collapsibleLanes: _propTypes.default.bool,\n  editable: _propTypes.default.bool,\n  canAddLanes: _propTypes.default.bool,\n  hideCardDeleteIcon: _propTypes.default.bool,\n  handleDragStart: _propTypes.default.func,\n  handleDragEnd: _propTypes.default.func,\n  handleLaneDragStart: _propTypes.default.func,\n  handleLaneDragEnd: _propTypes.default.func,\n  style: _propTypes.default.object,\n  tagStyle: _propTypes.default.object,\n  laneDraggable: _propTypes.default.bool,\n  cardDraggable: _propTypes.default.bool,\n  cardDragClass: _propTypes.default.string,\n  laneDragClass: _propTypes.default.string,\n  laneDropClass: _propTypes.default.string,\n  onCardMoveAcrossLanes: _propTypes.default.func.isRequired,\n  t: _propTypes.default.func.isRequired\n};\nBoardContainer.defaultProps = {\n  t: v => v,\n  onDataChange: () => {},\n  handleDragStart: () => {},\n  handleDragEnd: () => {},\n  handleLaneDragStart: () => {},\n  handleLaneDragEnd: () => {},\n  onCardUpdate: () => {},\n  onLaneAdd: () => {},\n  onLaneDelete: () => {},\n  onCardMoveAcrossLanes: () => {},\n  onLaneUpdate: () => {},\n  editable: false,\n  canAddLanes: false,\n  hideCardDeleteIcon: false,\n  draggable: false,\n  collapsibleLanes: false,\n  laneDraggable: true,\n  cardDraggable: true,\n  cardDragClass: 'react_trello_dragClass',\n  laneDragClass: 'react_trello_dragLaneClass',\n  laneDropClass: ''\n};\n\nconst mapStateToProps = state => {\n  return state.lanes ? {\n    reducerData: state\n  } : {};\n};\n\nconst mapDispatchToProps = dispatch => ({\n  actions: (0, _redux.bindActionCreators)((0, _objectSpread2.default)({}, boardActions, laneActions), dispatch)\n});\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(BoardContainer);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/react-trello/dist/controllers/BoardContainer.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_objectSpread2","_extends2","_objectWithoutProperties2","_defineProperty2","_react","_redux","_reactRedux","_Container","_Draggable","_propTypes","_pick","_isEqual","_Lane","_reactPopopo","boardActions","laneActions","BoardContainer","Component","constructor","args","addLaneMode","payload","handleLaneDragStart","props","id","removedIndex","addedIndex","_this$props","actions","handleLaneDragEnd","moveLane","oldIndex","newIndex","laneId","cardIndex","reducerData","lanes","find","lane","cards","index","_this$props2","eventBusHandle","eventBus","publish","event","type","addCard","card","updateCard","removeCard","cardId","loadBoard","data","moveCardAcrossLanes","fromLaneId","toLaneId","updateCards","updatedCard","updateLanes","updateLane","setState","params","hideEditableLane","addLane","onLaneAdd","componentDidMount","_this$props3","wireEventBus","UNSAFE_componentWillReceiveProps","nextProps","_this$props4","onDataChange","groupName","concat","render","_this$props5","components","draggable","laneDraggable","laneDragClass","laneDropClass","style","onCardAdd","onCardUpdate","onCardClick","onBeforeCardDelete","onCardDelete","onLaneScroll","onLaneClick","onLaneDelete","onLaneUpdate","editable","canAddLanes","laneStyle","onCardMoveAcrossLanes","t","otherProps","state","passthroughProps","createElement","BoardWrapper","PopoverWrapper","orientation","onDragStart","dragClass","dropClass","onDrop","onLaneDrop","lockAxis","getChildPayload","getLaneDetails","map","droppable","laneToRender","key","boardId","getCardDetails","undefined","labelStyle","cardStyle","disallowAddingCard","NewLaneSection","onClick","showEditableLane","NewLaneForm","onCancel","onAdd","addNewLane","propTypes","string","object","isRequired","func","laneSortFunction","bool","collapsibleLanes","hideCardDeleteIcon","handleDragStart","handleDragEnd","tagStyle","cardDraggable","cardDragClass","defaultProps","v","mapStateToProps","mapDispatchToProps","dispatch","bindActionCreators","_default","connect"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _redux = require(\"redux\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _Container = _interopRequireDefault(require(\"../dnd/Container\"));\n\nvar _Draggable = _interopRequireDefault(require(\"../dnd/Draggable\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pick = _interopRequireDefault(require(\"lodash/pick\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _Lane = _interopRequireDefault(require(\"./Lane\"));\n\nvar _reactPopopo = require(\"react-popopo\");\n\nvar boardActions = _interopRequireWildcard(require(\"../actions/BoardActions\"));\n\nvar laneActions = _interopRequireWildcard(require(\"../actions/LaneActions\"));\n\nclass BoardContainer extends _react.Component {\n  constructor(...args) {\n    super(...args);\n    (0, _defineProperty2.default)(this, \"state\", {\n      addLaneMode: false\n    });\n    (0, _defineProperty2.default)(this, \"onDragStart\", ({\n      payload\n    }) => {\n      const handleLaneDragStart = this.props.handleLaneDragStart;\n      handleLaneDragStart(payload.id);\n    });\n    (0, _defineProperty2.default)(this, \"onLaneDrop\", ({\n      removedIndex,\n      addedIndex,\n      payload\n    }) => {\n      const _this$props = this.props,\n            actions = _this$props.actions,\n            handleLaneDragEnd = _this$props.handleLaneDragEnd;\n\n      if (removedIndex !== addedIndex) {\n        actions.moveLane({\n          oldIndex: removedIndex,\n          newIndex: addedIndex\n        });\n        handleLaneDragEnd(removedIndex, addedIndex, payload);\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getCardDetails\", (laneId, cardIndex) => {\n      return this.props.reducerData.lanes.find(lane => lane.id === laneId).cards[cardIndex];\n    });\n    (0, _defineProperty2.default)(this, \"getLaneDetails\", index => {\n      return this.props.reducerData.lanes[index];\n    });\n    (0, _defineProperty2.default)(this, \"wireEventBus\", () => {\n      const _this$props2 = this.props,\n            actions = _this$props2.actions,\n            eventBusHandle = _this$props2.eventBusHandle;\n      let eventBus = {\n        publish: event => {\n          switch (event.type) {\n            case 'ADD_CARD':\n              return actions.addCard({\n                laneId: event.laneId,\n                card: event.card\n              });\n\n            case 'UPDATE_CARD':\n              return actions.updateCard({\n                laneId: event.laneId,\n                card: event.card\n              });\n\n            case 'REMOVE_CARD':\n              return actions.removeCard({\n                laneId: event.laneId,\n                cardId: event.cardId\n              });\n\n            case 'REFRESH_BOARD':\n              return actions.loadBoard(event.data);\n\n            case 'MOVE_CARD':\n              return actions.moveCardAcrossLanes({\n                fromLaneId: event.fromLaneId,\n                toLaneId: event.toLaneId,\n                cardId: event.cardId,\n                index: event.index\n              });\n\n            case 'UPDATE_CARDS':\n              return actions.updateCards({\n                laneId: event.laneId,\n                cards: event.cards\n              });\n\n            case 'UPDATE_CARD':\n              return actions.updateCard({\n                laneId: event.laneId,\n                updatedCard: event.card\n              });\n\n            case 'UPDATE_LANES':\n              return actions.updateLanes(event.lanes);\n\n            case 'UPDATE_LANE':\n              return actions.updateLane(event.lane);\n          }\n        }\n      };\n      eventBusHandle(eventBus);\n    });\n    (0, _defineProperty2.default)(this, \"hideEditableLane\", () => {\n      this.setState({\n        addLaneMode: false\n      });\n    });\n    (0, _defineProperty2.default)(this, \"showEditableLane\", () => {\n      this.setState({\n        addLaneMode: true\n      });\n    });\n    (0, _defineProperty2.default)(this, \"addNewLane\", params => {\n      this.hideEditableLane();\n      this.props.actions.addLane(params);\n      this.props.onLaneAdd(params);\n    });\n  }\n\n  componentDidMount() {\n    const _this$props3 = this.props,\n          actions = _this$props3.actions,\n          eventBusHandle = _this$props3.eventBusHandle;\n    actions.loadBoard(this.props.data);\n\n    if (eventBusHandle) {\n      this.wireEventBus();\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    // nextProps.data changes when external Board input props change and nextProps.reducerData changes due to event bus or UI changes\n    const _this$props4 = this.props,\n          data = _this$props4.data,\n          reducerData = _this$props4.reducerData,\n          onDataChange = _this$props4.onDataChange;\n\n    if (nextProps.reducerData && !(0, _isEqual.default)(reducerData, nextProps.reducerData)) {\n      onDataChange(nextProps.reducerData);\n    }\n\n    if (nextProps.data && !(0, _isEqual.default)(nextProps.data, data)) {\n      this.props.actions.loadBoard(nextProps.data);\n      onDataChange(nextProps.data);\n    }\n  }\n\n  get groupName() {\n    const id = this.props.id;\n    return \"TrelloBoard\".concat(id);\n  }\n\n  render() {\n    const _this$props5 = this.props,\n          id = _this$props5.id,\n          components = _this$props5.components,\n          reducerData = _this$props5.reducerData,\n          draggable = _this$props5.draggable,\n          laneDraggable = _this$props5.laneDraggable,\n          laneDragClass = _this$props5.laneDragClass,\n          laneDropClass = _this$props5.laneDropClass,\n          style = _this$props5.style,\n          onDataChange = _this$props5.onDataChange,\n          onCardAdd = _this$props5.onCardAdd,\n          onCardUpdate = _this$props5.onCardUpdate,\n          onCardClick = _this$props5.onCardClick,\n          onBeforeCardDelete = _this$props5.onBeforeCardDelete,\n          onCardDelete = _this$props5.onCardDelete,\n          onLaneScroll = _this$props5.onLaneScroll,\n          onLaneClick = _this$props5.onLaneClick,\n          onLaneAdd = _this$props5.onLaneAdd,\n          onLaneDelete = _this$props5.onLaneDelete,\n          onLaneUpdate = _this$props5.onLaneUpdate,\n          editable = _this$props5.editable,\n          canAddLanes = _this$props5.canAddLanes,\n          laneStyle = _this$props5.laneStyle,\n          onCardMoveAcrossLanes = _this$props5.onCardMoveAcrossLanes,\n          t = _this$props5.t,\n          otherProps = (0, _objectWithoutProperties2.default)(_this$props5, [\"id\", \"components\", \"reducerData\", \"draggable\", \"laneDraggable\", \"laneDragClass\", \"laneDropClass\", \"style\", \"onDataChange\", \"onCardAdd\", \"onCardUpdate\", \"onCardClick\", \"onBeforeCardDelete\", \"onCardDelete\", \"onLaneScroll\", \"onLaneClick\", \"onLaneAdd\", \"onLaneDelete\", \"onLaneUpdate\", \"editable\", \"canAddLanes\", \"laneStyle\", \"onCardMoveAcrossLanes\", \"t\"]);\n    const addLaneMode = this.state.addLaneMode; // Stick to whitelisting attributes to segregate board and lane props\n\n    const passthroughProps = (0, _pick.default)(this.props, ['onCardMoveAcrossLanes', 'onLaneScroll', 'onLaneDelete', 'onLaneUpdate', 'onCardClick', 'onBeforeCardDelete', 'onCardDelete', 'onCardAdd', 'onCardUpdate', 'onLaneClick', 'laneSortFunction', 'draggable', 'laneDraggable', 'cardDraggable', 'collapsibleLanes', 'canAddLanes', 'hideCardDeleteIcon', 'tagStyle', 'handleDragStart', 'handleDragEnd', 'cardDragClass', 'editLaneTitle', 't']);\n    return _react.default.createElement(components.BoardWrapper, (0, _extends2.default)({\n      style: style\n    }, otherProps, {\n      draggable: false\n    }), _react.default.createElement(_reactPopopo.PopoverWrapper, null, _react.default.createElement(_Container.default, {\n      orientation: \"horizontal\",\n      onDragStart: this.onDragStart,\n      dragClass: laneDragClass,\n      dropClass: laneDropClass,\n      onDrop: this.onLaneDrop,\n      lockAxis: \"x\",\n      getChildPayload: index => this.getLaneDetails(index),\n      groupName: this.groupName\n    }, reducerData.lanes.map((lane, index) => {\n      const id = lane.id,\n            droppable = lane.droppable,\n            otherProps = (0, _objectWithoutProperties2.default)(lane, [\"id\", \"droppable\"]);\n\n      const laneToRender = _react.default.createElement(_Lane.default, (0, _extends2.default)({\n        key: id,\n        boardId: this.groupName,\n        components: components,\n        id: id,\n        getCardDetails: this.getCardDetails,\n        index: index,\n        droppable: droppable === undefined ? true : droppable,\n        style: laneStyle || lane.style || {},\n        labelStyle: lane.labelStyle || {},\n        cardStyle: this.props.cardStyle || lane.cardStyle,\n        editable: editable && !lane.disallowAddingCard\n      }, otherProps, passthroughProps));\n\n      return draggable && laneDraggable ? _react.default.createElement(_Draggable.default, {\n        key: lane.id\n      }, laneToRender) : laneToRender;\n    }))), canAddLanes && _react.default.createElement(_Container.default, {\n      orientation: \"horizontal\"\n    }, editable && !addLaneMode ? _react.default.createElement(components.NewLaneSection, {\n      t: t,\n      onClick: this.showEditableLane\n    }) : addLaneMode && _react.default.createElement(components.NewLaneForm, {\n      onCancel: this.hideEditableLane,\n      onAdd: this.addNewLane,\n      t: t\n    })));\n  }\n\n}\n\nBoardContainer.propTypes = {\n  id: _propTypes.default.string,\n  components: _propTypes.default.object,\n  actions: _propTypes.default.object,\n  data: _propTypes.default.object.isRequired,\n  reducerData: _propTypes.default.object,\n  onDataChange: _propTypes.default.func,\n  eventBusHandle: _propTypes.default.func,\n  onLaneScroll: _propTypes.default.func,\n  onCardClick: _propTypes.default.func,\n  onBeforeCardDelete: _propTypes.default.func,\n  onCardDelete: _propTypes.default.func,\n  onCardAdd: _propTypes.default.func,\n  onCardUpdate: _propTypes.default.func,\n  onLaneAdd: _propTypes.default.func,\n  onLaneDelete: _propTypes.default.func,\n  onLaneClick: _propTypes.default.func,\n  onLaneUpdate: _propTypes.default.func,\n  laneSortFunction: _propTypes.default.func,\n  draggable: _propTypes.default.bool,\n  collapsibleLanes: _propTypes.default.bool,\n  editable: _propTypes.default.bool,\n  canAddLanes: _propTypes.default.bool,\n  hideCardDeleteIcon: _propTypes.default.bool,\n  handleDragStart: _propTypes.default.func,\n  handleDragEnd: _propTypes.default.func,\n  handleLaneDragStart: _propTypes.default.func,\n  handleLaneDragEnd: _propTypes.default.func,\n  style: _propTypes.default.object,\n  tagStyle: _propTypes.default.object,\n  laneDraggable: _propTypes.default.bool,\n  cardDraggable: _propTypes.default.bool,\n  cardDragClass: _propTypes.default.string,\n  laneDragClass: _propTypes.default.string,\n  laneDropClass: _propTypes.default.string,\n  onCardMoveAcrossLanes: _propTypes.default.func.isRequired,\n  t: _propTypes.default.func.isRequired\n};\nBoardContainer.defaultProps = {\n  t: v => v,\n  onDataChange: () => {},\n  handleDragStart: () => {},\n  handleDragEnd: () => {},\n  handleLaneDragStart: () => {},\n  handleLaneDragEnd: () => {},\n  onCardUpdate: () => {},\n  onLaneAdd: () => {},\n  onLaneDelete: () => {},\n  onCardMoveAcrossLanes: () => {},\n  onLaneUpdate: () => {},\n  editable: false,\n  canAddLanes: false,\n  hideCardDeleteIcon: false,\n  draggable: false,\n  collapsibleLanes: false,\n  laneDraggable: true,\n  cardDraggable: true,\n  cardDragClass: 'react_trello_dragClass',\n  laneDragClass: 'react_trello_dragLaneClass',\n  laneDropClass: ''\n};\n\nconst mapStateToProps = state => {\n  return state.lanes ? {\n    reducerData: state\n  } : {};\n};\n\nconst mapDispatchToProps = dispatch => ({\n  actions: (0, _redux.bindActionCreators)((0, _objectSpread2.default)({}, boardActions, laneActions), dispatch)\n});\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(BoardContainer);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}