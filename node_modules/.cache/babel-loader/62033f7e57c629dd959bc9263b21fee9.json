{"ast":null,"code":"import _classCallCheck from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"./Styles/Featured.css\";import Chart from\"./Chart\";import Cards from\"./Cards\";import axios from\"axios\";import{ApiContext,ApiUrlProvider}from\"../../../../../apiContext/ApiContext\";import AdminSidebar from\"../DemoSidebar/AdminSidebar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Featured=/*#__PURE__*/function(_Component){_inherits(Featured,_Component);var _super=_createSuper(Featured);function Featured(props){var _this;_classCallCheck(this,Featured);_this=_super.call(this,props);_this.state={UsersPerMonth:'',OrganisationsPerMonth:'',userData:[],adminUserEmail:localStorage.getItem('curr_user_email'),OrgData:[],serverDomain:\"https://givealotcharities.herokuapp.com\",frontEndDomain:'https://givealot.netlify.app/'};return _this;}_createClass(Featured,[{key:\"componentDidMount\",value:function componentDidMount(){this.OrganisationsPerMonth();this.UsersPerMonth();}},{key:\"UsersPerMonth\",value:function UsersPerMonth(){var _this2=this;var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};var UserPerMonth={\"adminUserEmail\":this.state.adminUserEmail};axios.post(this.state.serverDomain+'/v1/user/get/num_users/per_month',UserPerMonth,config).then(function(response){// console.log(response)\n_this2.setState({userData:[{name:\"jan\",\"Registered Users\":response.data.object.jan},{name:\"feb\",\"Registered Users\":response.data.object.feb},{name:\"mar\",\"Registered Users\":response.data.object.mar},{name:\"apr\",\"Registered Users\":response.data.object.apr},{name:\"may\",\"Registered Users\":response.data.object.may},{name:\"jun\",\"Registered Users\":response.data.object.jun},{name:\"jul\",\"Registered Users\":response.data.object.jul},{name:\"aug\",\"Registered Users\":response.data.object.aug},{name:\"sept\",\"Registered Users\":response.data.object.sept},{name:\"oct\",\"Registered Users\":response.data.object.oct},{name:\"nov\",\"Registered Users\":response.data.object.nov},{name:\"dec\",\"Registered Users\":response.data.object.dec}]});}).catch(function(error){_this2.setState({error:'Error Retrieving data'});});}},{key:\"OrganisationsPerMonth\",value:function OrganisationsPerMonth(){var _this3=this;var config={headers:{\"Content-Type\":\"application/json\",'Access-Control-Allow-Origin':'*'}};var OrgPerMonth={\"adminUserEmail\":this.state.adminUserEmail};axios.post(this.state.serverDomain+'/v1/organisation/get/num_organisations/per_month',OrgPerMonth,config).then(function(response){// console.log(response)\n_this3.setState({OrgData:[{name:\"jan\",\"Registered Organisations\":response.data.object.jan},{name:\"feb\",\"Registered Organisations\":response.data.object.feb},{name:\"mar\",\"Registered Organisations\":response.data.object.mar},{name:\"apr\",\"Registered Organisations\":response.data.object.apr},{name:\"may\",\"Registered Organisations\":response.data.object.may},{name:\"jun\",\"Registered Organisations\":response.data.object.jun},{name:\"jul\",\"Registered Organisations\":response.data.object.jul},{name:\"aug\",\"Registered Organisations\":response.data.object.aug},{name:\"sept\",\"Registered Organisations\":response.data.object.sept},{name:\"oct\",\"Registered Organisations\":response.data.object.oct},{name:\"nov\",\"Registered Organisations\":response.data.object.nov},{name:\"dec\",\"Registered Organisations\":response.data.object.dec}]});}).catch(function(error){_this3.setState({error:'Error Retrieving data'});});}},{key:\"render\",value:function render(){if(localStorage.getItem(\"id\")===null||localStorage.getItem(\"id\")===undefined||localStorage.getItem(\"id\")==='default'){window.location.href=this.state.frontEndDomain+\"/login\";}var _this$state=this.state,userData=_this$state.userData,OrgData=_this$state.OrgData;return/*#__PURE__*/_jsxs(\"div\",{className:\"trythis\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AdminSidebar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"featured\",children:/*#__PURE__*/_jsx(\"div\",{className:\"featuredBody\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"featuredTop\",children:[/*#__PURE__*/_jsx(Cards,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashGraph\",children:/*#__PURE__*/_jsx(Chart,{data:userData,title:\"Users who registered on the system\",grid:true,dataKey:\"Registered Users\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashGraph\",children:/*#__PURE__*/_jsx(Chart,{data:OrgData,title:\"Organisations who registered on the system\",grid:true,dataKey:\"Registered Organisations\"})})]})]})})})]});}}]);return Featured;}(Component);Featured.contextType=ApiContext;export default Featured;","map":{"version":3,"sources":["C:/Users/Tshilidzi-PC/Documents/GitHub/Givee/Give-a-Lot/frontend/givealot/src/views/dashboard/sidebar/Components/Featured/Featured.js"],"names":["React","Component","Chart","Cards","axios","ApiContext","ApiUrlProvider","AdminSidebar","Featured","props","state","UsersPerMonth","OrganisationsPerMonth","userData","adminUserEmail","localStorage","getItem","OrgData","serverDomain","frontEndDomain","config","headers","UserPerMonth","post","then","response","setState","name","data","object","jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec","catch","error","OrgPerMonth","undefined","window","location","href","display","flexDirection","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport \"./Styles/Featured.css\"\r\nimport Chart from \"./Chart\"\r\nimport Cards from \"./Cards\"\r\nimport axios from \"axios\";\r\nimport {ApiContext, ApiUrlProvider} from \"../../../../../apiContext/ApiContext\";\r\nimport AdminSidebar from \"../DemoSidebar/AdminSidebar\";\r\nexport class Featured extends Component {\r\n\r\n    static contextType = ApiContext;\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            UsersPerMonth: '',\r\n            OrganisationsPerMonth: '',\r\n            userData: [],\r\n            adminUserEmail: localStorage.getItem('curr_user_email'),\r\n            OrgData: [],\r\n            serverDomain: \"https://givealotcharities.herokuapp.com\",\r\n            frontEndDomain: 'https://givealot.netlify.app/'\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.OrganisationsPerMonth();\r\n        this.UsersPerMonth();\r\n    }\r\n\r\n    UsersPerMonth(){\r\n        let config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        }\r\n        const UserPerMonth = {\r\n            \"adminUserEmail\":this.state.adminUserEmail\r\n        }\r\n\r\n        axios.post(this.state.serverDomain + '/v1/user/get/num_users/per_month', UserPerMonth, config)\r\n            .then(response =>{\r\n                // console.log(response)\r\n                this.setState({ userData:[\r\n                        {\r\n                            name: \"jan\",\r\n                            \"Registered Users\": response.data.object.jan,\r\n                        },\r\n                        {\r\n                            name: \"feb\",\r\n                            \"Registered Users\": response.data.object.feb,\r\n                        },\r\n                        {\r\n                            name: \"mar\",\r\n                            \"Registered Users\": response.data.object.mar,\r\n                        },\r\n                        {\r\n                            name: \"apr\",\r\n                            \"Registered Users\": response.data.object.apr,\r\n                        },\r\n                        {\r\n                            name: \"may\",\r\n                            \"Registered Users\": response.data.object.may,\r\n                        },\r\n                        {\r\n                            name: \"jun\",\r\n                            \"Registered Users\": response.data.object.jun,\r\n                        },\r\n                        {\r\n                            name: \"jul\",\r\n                            \"Registered Users\": response.data.object.jul,\r\n                        },\r\n                        {\r\n                            name: \"aug\",\r\n                            \"Registered Users\": response.data.object.aug,\r\n                        },\r\n                        {\r\n                            name: \"sept\",\r\n                            \"Registered Users\": response.data.object.sept,\r\n                        },\r\n                        {\r\n                            name: \"oct\",\r\n                            \"Registered Users\": response.data.object.oct,\r\n                        },\r\n                        {\r\n                            name: \"nov\",\r\n                            \"Registered Users\": response.data.object.nov,\r\n                        },\r\n                        {\r\n                            name: \"dec\",\r\n                            \"Registered Users\": response.data.object.dec,\r\n                        }\r\n                    ]\r\n\r\n                })\r\n\r\n            })\r\n            .catch(error =>{\r\n                this.setState({error : 'Error Retrieving data'})\r\n            })\r\n    }\r\n\r\n    OrganisationsPerMonth(){\r\n        let config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        }\r\n        const OrgPerMonth = {\r\n            \"adminUserEmail\":this.state.adminUserEmail\r\n        }\r\n        axios.post(this.state.serverDomain + '/v1/organisation/get/num_organisations/per_month', OrgPerMonth, config)\r\n            .then(response =>{\r\n                // console.log(response)\r\n                this.setState({ OrgData:[\r\n                        {\r\n                            name: \"jan\",\r\n                            \"Registered Organisations\": response.data.object.jan,\r\n                        },\r\n                        {\r\n                            name: \"feb\",\r\n                            \"Registered Organisations\": response.data.object.feb,\r\n                        },\r\n                        {\r\n                            name: \"mar\",\r\n                            \"Registered Organisations\": response.data.object.mar,\r\n                        },\r\n                        {\r\n                            name: \"apr\",\r\n                            \"Registered Organisations\": response.data.object.apr,\r\n                        },\r\n                        {\r\n                            name: \"may\",\r\n                            \"Registered Organisations\": response.data.object.may,\r\n                        },\r\n                        {\r\n                            name: \"jun\",\r\n                            \"Registered Organisations\": response.data.object.jun,\r\n                        },\r\n                        {\r\n                            name: \"jul\",\r\n                            \"Registered Organisations\": response.data.object.jul,\r\n                        },\r\n                        {\r\n                            name: \"aug\",\r\n                            \"Registered Organisations\": response.data.object.aug,\r\n                        },\r\n                        {\r\n                            name: \"sept\",\r\n                            \"Registered Organisations\": response.data.object.sept,\r\n                        },\r\n                        {\r\n                            name: \"oct\",\r\n                            \"Registered Organisations\": response.data.object.oct,\r\n                        },\r\n                        {\r\n                            name: \"nov\",\r\n                            \"Registered Organisations\": response.data.object.nov,\r\n                        },\r\n                        {\r\n                            name: \"dec\",\r\n                            \"Registered Organisations\": response.data.object.dec,\r\n                        }\r\n                    ]\r\n\r\n            })\r\n\r\n            })\r\n            .catch(error =>{\r\n                this.setState({error : 'Error Retrieving data'})\r\n            })\r\n    }\r\n\r\n    render() {\r\n        if(localStorage.getItem(\"id\") === null ||\r\n            localStorage.getItem(\"id\") === undefined ||\r\n            localStorage.getItem(\"id\") === 'default')\r\n        {\r\n\r\n            window.location.href = this.state.frontEndDomain + \"/login\";\r\n        }\r\n        const { userData, OrgData } = this.state\r\n        return (\r\n\r\n            <div className=\"trythis\">\r\n                <div>\r\n                    <AdminSidebar />\r\n                </div>\r\n\r\n                <div className=\"featured\">\r\n\r\n                    <div className=\"featuredBody\">\r\n                        <div className=\"featuredTop\">\r\n                            <Cards />\r\n                            <div style={{display: \"flex\", flexDirection: \"column\"}}>\r\n                                <div className=\"dashGraph\">\r\n                                    <Chart data={userData} title=\"Users who registered on the system\" grid dataKey=\"Registered Users\" />\r\n                                </div>\r\n                                <div className=\"dashGraph\">\r\n                                    <Chart data={OrgData} title=\"Organisations who registered on the system\" grid dataKey=\"Registered Organisations\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Featured\r\n"]},"metadata":{},"sourceType":"module"}